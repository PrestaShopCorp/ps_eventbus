imports:
  - { resource: api.yml }
  - { resource: ../common/common.yml }
  - { resource: ../common/repository.yml }

services:
  PrestaShop\Module\PsEventbus\Service\ApiAuthorizationService:
    class: PrestaShop\Module\PsEventbus\Service\ApiAuthorizationService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\SyncRepository'
      - '@PrestaShop\Module\PsEventbus\Api\SyncApiClient'
      - '@PrestaShop\Module\PsEventbus\Service\PsAccountsAdapterService'
      - '@PrestaShop\Module\PsEventbus\Handler\ErrorHandler\ErrorHandler'

  PrestaShop\Module\PsEventbus\Service\SynchronizationService:
    class: PrestaShop\Module\PsEventbus\Service\SynchronizationService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Api\LiveSyncApiClient'
      - '@PrestaShop\Module\PsEventbus\Repository\SyncRepository'
      - '@PrestaShop\Module\PsEventbus\Repository\IncrementalSyncRepository'
      - '@PrestaShop\Module\PsEventbus\Repository\LiveSyncRepository'
      - '@PrestaShop\Module\PsEventbus\Service\ShopContent\LanguagesService'
      - '@PrestaShop\Module\PsEventbus\Service\ProxyService'
      - '@PrestaShop\Module\PsEventbus\Handler\ErrorHandler\ErrorHandler'

  PrestaShop\Module\PsEventbus\Service\PresenterService:
    class: PrestaShop\Module\PsEventbus\Service\PresenterService
    public: true

  PrestaShop\Module\PsEventbus\Service\ApiShopContentService:
    class: PrestaShop\Module\PsEventbus\Service\ApiShopContentService
    public: true
    arguments:
      - '@ps_eventbus'
      - '@PrestaShop\Module\PsEventbus\Handler\ErrorHandler\ErrorHandler'
      - '@PrestaShop\Module\PsEventbus\Service\ApiAuthorizationService'
      - '@PrestaShop\Module\PsEventbus\Service\SynchronizationService'
      - '@PrestaShop\Module\PsEventbus\Repository\SyncRepository'
      - '@PrestaShop\Module\PsEventbus\Handler\ErrorHandler\ErrorHandler'

  PrestaShop\Module\PsEventbus\Service\ApiHealthCheckService:
    class: PrestaShop\Module\PsEventbus\Service\ApiHealthCheckService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Service\PsAccountsAdapterService'
      - '@PrestaShop\Module\PsEventbus\Service\ApiAuthorizationService'
      - '@PrestaShop\Module\PsEventbus\Handler\ErrorHandler\ErrorHandler'
      - '%ps_eventbus.sync_api_url%'
      - '%ps_eventbus.live_sync_api_url%'
      - '%ps_eventbus.proxy_api_url%'

############################################################################################################
###################################### SHOP CONTENT SERVICES ###############################################
############################################################################################################
  PrestaShop\Module\PsEventbus\Service\ShopContent\AttributesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\AttributesService
    public: true

  PrestaShop\Module\PsEventbus\Service\ShopContent\BundlesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\BundlesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\BundleRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CarriersService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CarriersService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CarrierRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CarrierDetailsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CarrierDetailsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CarrierDetailRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CarrierTaxesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CarrierTaxesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CarrierTaxeRepository'
  
  PrestaShop\Module\PsEventbus\Service\ShopContent\CartsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CartsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CartRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CartProductsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CartProductsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CartProductRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CartRulesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CartRulesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CartRuleRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CustomProductCarriersService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CustomProductCarriersService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CustomProductCarrierRepository'
  
  PrestaShop\Module\PsEventbus\Service\ShopContent\CustomersService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CustomersService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CustomerRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CategoriesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CategoriesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CategoryRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\CurrenciesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\CurrenciesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\CurrencyRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\EmployeesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\EmployeesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\EmployeeRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\ImagesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\ImagesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\ImageRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\ImageTypesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\ImageTypesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\ImageTypeRepository'


  PrestaShop\Module\PsEventbus\Service\ShopContent\LanguagesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\LanguagesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\LanguageRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\ManufacturersService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\ManufacturersService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\ManufacturerRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\ModulesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\ModulesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\ModuleRepository'
      - '@PrestaShop\Module\PsEventbus\Repository\InfoRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\OrdersService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\OrdersService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\OrderRepository'
      - '@PrestaShop\Module\PsEventbus\Repository\OrderstatusHistoryRepository'
      - '@PrestaShop\Module\PsEventbus\Formatter\ArrayFormatter'

  PrestaShop\Module\PsEventbus\Service\ShopContent\OrderCartRulesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\OrderCartRulesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\OrderCartRuleRepository'
  
  PrestaShop\Module\PsEventbus\Service\ShopContent\OrderDetailsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\OrderDetailsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\OrderDetailRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\OrderStatusHistoryService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\OrderStatusHistoryService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\OrderstatusHistoryRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\ProductsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\ProductsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\ProductRepository' 
      - '@PrestaShop\Module\PsEventbus\Service\ShopContent\LanguagesService'
      - '@PrestaShop\Module\PsEventbus\Service\ShopContent\CategoriesService'
      - '@PrestaShop\Module\PsEventbus\Formatter\ArrayFormatter'

  PrestaShop\Module\PsEventbus\Service\ShopContent\ProductSuppliersService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\ProductSuppliersService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\ProductSupplierRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\InfoService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\InfoService
    public: true
    arguments:
      - '@=service("ps_eventbus").getContext()'
      - '@PrestaShop\Module\PsEventbus\Repository\InfoRepository'
      - '@PrestaShop\Module\PsEventbus\Service\ShopContent\LanguagesService'
      - '@PrestaShop\Module\PsEventbus\Service\ShopContent\CurrenciesService'

  PrestaShop\Module\PsEventbus\Service\ShopContent\SpecificPricesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\SpecificPricesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\SpecificPriceRepository'
      - '@PrestaShop\Module\PsEventbus\Repository\ProductRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\StocksService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\StocksService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\StockRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\StockMovementsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\StockMovementsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\StockMovementRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\StoresService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\StoresService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\StoreRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\SuppliersService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\SuppliersService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\SupplierRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\TaxonomiesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\TaxonomiesService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\TaxonomyRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\ThemesService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\ThemesService
    public: true
    arguments:
      - '@=service("ps_eventbus").getContext()'
  
  PrestaShop\Module\PsEventbus\Service\ShopContent\TranslationsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\TranslationsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\TranslationRepository'

  PrestaShop\Module\PsEventbus\Service\ShopContent\WishlistsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\WishlistsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\WishlistRepository'
  
  PrestaShop\Module\PsEventbus\Service\ShopContent\WishlistProductsService:
    class: PrestaShop\Module\PsEventbus\Service\ShopContent\WishlistProductsService
    public: true
    arguments:
      - '@PrestaShop\Module\PsEventbus\Repository\WishlistProductRepository'
